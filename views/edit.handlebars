<div class="row mt-4">
  <div class="col-md-6">
    <h3>Edit Artist:</h3>

    <form class="form edit-project-form">
      <div class="form-group">
        <label for="project-name">Artist Name:</label>
        <textarea class="form-input" type="text" id="project-name" name="project-name">{{name}}</textarea>
      </div>
      <div class="form-group">
        <label for="artist-bio">Artist Bio:</label>
        <textarea class="form-input" type="text" id="artist-bio" name="artist-bio">{{artist_bio}}</textarea>
      </div>
      <div class="form-group">
        <label for="spotify-embed-code">Spotify Embed Code:</label>
        <textarea class="form-input" type="text" id="spotify-embed-code" name="spotify-embed-code">{{spotify_embed_code}}</textarea>
        <a href="https://developer.spotify.com/documentation/widgets/generate/embed/" target="_blank">^Where do I find this? Documentation link</a>
      </div>
      <div class="form-group">
        <label for="twitter-embed-code">Twitter Embed Code:</label>
        <textarea class="form-input" type="text" id="twitter-embed-code" name="twitter-embed-code" />{{twitter_embed_code}}</textarea>
        <a href="https://help.twitter.com/en/using-twitter/embed-twitter-feed" target="_blank">^Where do I find this? Documentation link</a>
      </div>
      <div>
        {{!-- cloudinary upload widget magic --}}
        <label for="project-img">Artist Image:</label>
        <button id="upload_widget" class="cloudinary-button btn hover:bg-green-599 hover:text-green-200 bg-red-100 text-white-700 mx-5 my-10 px-6 py-2 rounded-lg">Upload files</button>
        <script src="https://upload-widget.cloudinary.com/global/all.js" type="text/javascript"></script>  
        <script type="text/javascript">  
        var myWidget = cloudinary.createUploadWidget({
          cloudName: 'doetzelhn', 
          uploadPreset: 'bgdwrnsi',
          sources: [ 'local', 'image_search', 'instagram', 'facebook', 'url', 'camera'],
          googleApiKey: 'AIzaSyCZqq4TeSsr3D4FuyKeLxgcV-cmgKwA-no' }, 
          (error, result) => { 
            if (!error && result && result.event === "success") { 
              console.log('Done! Here is the image info: ', result.info.url); 
              document.getElementById("artist-img").value = result.info.url;
            }
          }
        )
        document.getElementById("upload_widget").addEventListener("click", function(event){
            event.preventDefault();
            myWidget.open();
          }, false);
        </script>
      </div>
      <div class="form-group">
        <input class="form-input" type="hidden" id="artist-img" name="artist-img" value="{{artist_img}}"/>
      </div>
      <div class="form-group">
        <button type="submit" class="btn hover:bg-green-600 hover:text-green-200 bg-red-100 text-white-700 mx-5 my-10 px-6 py-2 rounded-lg" id={{id}}>Edit</button>
      </div>
    </form>
  </div>

<script src="/js/edit.js"></script>
